<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Interactive Cambodia Travel Planner</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&display=swap" rel="stylesheet">
    <!-- 
      APPLICATION STRUCTURE:
      This planner uses a tabbed navigation system (Dashboard, Itinerary, etc.) for better organization.
      The Dashboard gives a quick overview. The Itinerary uses collapsible sections (accordions) 
      to keep detailed information tidy and easy to navigate, especially on mobile devices.
      This makes the large amount of travel information much more manageable.

      VISUALIZATION CHOICES:
      - Journey Map: An interactive Google My Map is embedded. This is better than a static image 
        because you can add your own pins for hotels, restaurants, and routes.
      - Budget Breakdown: A donut chart (using Chart.js) provides a quick visual comparison of 
        where your money is allocated, which is faster to understand than a simple table.
      - Spending Tracker: The budget table has input fields, turning it from a static plan into a 
        live tool where you can track actual spending against your estimates.
      - Itinerary Details: Accordions are used to expand and collapse weekly plans. This prevents 
        the page from being overwhelmingly long and lets you focus on one section at a time.
    -->
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f8f9fa;
            color: #3c4043;
        }
        .nav-link {
            transition: all 0.3s ease;
            border-bottom: 2px solid transparent;
        }
        .nav-link.active {
            color: #1a73e8; 
            border-bottom-color: #1a73e8;
        }
        .content-section {
            display: none;
        }
        .content-section.active {
            display: block;
        }
        .accordion-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.5s ease-in-out;
        }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 450px;
            margin-left: auto;
            margin-right: auto;
            height: 300px;
            max-height: 400px;
        }
        @media (min-width: 768px) {
            .chart-container {
                height: 350px;
            }
        }
        .map-embed-container {
            position: relative;
            overflow: hidden;
            width: 100%;
            padding-top: 75%; /* 4:3 Aspect Ratio */
        }
        .map-embed-container iframe {
            position: absolute;
            top: 0;
            left: 0;
            bottom: 0;
            right: 0;
            width: 100%;
            height: 100%;
            border: none;
        }
        /* Styles for locked fields */
        .savable:disabled {
            background-color: #e9ecef;
            cursor: not-allowed;
            color: #6c757d;
        }
        .lock-btn:disabled svg {
            color: #6c757d;
        }
        /* Custom Modal Styles */
        .modal-overlay {
            transition: opacity 0.3s ease;
        }
    </style>
</head>
<body class="antialiased">

    <!-- Header and Navigation -->
    <header class="bg-white/80 backdrop-blur-lg sticky top-0 z-50 shadow-sm">
        <nav class="container mx-auto px-6 py-3">
            <div class="flex justify-center items-center">
                <div class="flex flex-wrap justify-center space-x-4 sm:space-x-8 text-xs sm:text-base">
                    <a href="#dashboard" class="nav-link font-medium pb-1">Dashboard</a>
                    <a href="#itinerary" class="nav-link font-medium pb-1">Itinerary</a>
                    <a href="#budget" class="nav-link font-medium pb-1">Budget</a>
                    <a href="#documents" class="nav-link font-medium pb-1">Documents</a>
                    <a href="#checklist" class="nav-link font-medium pb-1">Checklist</a>
                    <a href="#safety" class="nav-link font-medium pb-1">Info & Safety</a>
                </div>
            </div>
        </nav>
    </header>

    <main class="container mx-auto px-6 py-8">
        
        <!-- Dashboard Section -->
        <section id="dashboard" class="content-section">
            <div class="text-center mb-12">
                <h1 class="text-4xl md:text-5xl font-bold text-blue-600 mb-2">Harriet & Phil's Cambodia Travel Planner</h1>
                <p class="text-lg text-gray-600">Our interactive guide to an unforgettable one-month adventure.</p>
            </div>

            <!-- Key Stats -->
            <div class="grid md:grid-cols-3 gap-8 mb-12">
                <div class="bg-white p-6 rounded-xl shadow-md text-center">
                    <div class="text-blue-500 text-3xl mb-2">üóìÔ∏è</div>
                    <h3 class="text-xl font-bold mb-1">Duration</h3>
                    <p class="text-3xl font-light text-gray-700">27 Days</p>
                </div>
                <div class="bg-white p-6 rounded-xl shadow-md text-center">
                    <div class="text-blue-500 text-3xl mb-2">üìç</div>
                    <h3 class="text-xl font-bold mb-1">Destinations</h3>
                    <p class="text-3xl font-light text-gray-700">4+</p>
                </div>
                <div class="bg-white p-6 rounded-xl shadow-md text-center">
                    <div class="text-blue-500 text-3xl mb-2">üí∞</div>
                    <h3 class="text-xl font-bold mb-1">Est. Budget</h3>
                    <p class="text-3xl font-light text-gray-700">¬£2,000</p>
                </div>
            </div>
            
            <!-- Interactive Map -->
            <div class="bg-white p-6 sm:p-8 rounded-xl shadow-lg">
                <h2 class="text-2xl font-bold text-center mb-4">Our Interactive Journey Map</h2>
                <p class="text-center text-gray-600 mb-6 max-w-3xl mx-auto">This is our live, interactive map. You can continue to edit it on <a href="https://google.com/mymaps" target="_blank" class="text-blue-600 font-medium hover:underline">Google My Maps</a>, and your changes will automatically appear here.</p>
                
                <div class="w-full rounded-xl overflow-hidden shadow-md">
                    <div class="map-embed-container">
                        <!-- 
                            DEBUG NOTE: The map source below is a placeholder. 
                            To make this work, you must create your own map on Google My Maps,
                            get the embed code, and paste the SRC URL here.
                        -->
                        <iframe src="https://www.google.com/maps/d/embed?mid=1h9vWHnEAwTg7rFDakbEp6Quuv0dSQbo"></iframe>
                    </div>
                </div>
            </div>

            <!-- Reset Button -->
            <div class="text-center mt-12">
                <button id="clear-data-btn" class="bg-red-500 text-white font-bold py-2 px-6 rounded-lg hover:bg-red-600 transition-colors">
                    Clear & Reset Planner
                </button>
                <p class="text-sm text-gray-500 mt-2">This will erase all saved data from your browser.</p>
            </div>
        </section>

        <!-- Itinerary Section -->
        <section id="itinerary" class="content-section">
            <div class="text-center mb-12">
                <h1 class="text-4xl md:text-5xl font-bold text-blue-600 mb-2">Detailed Itinerary</h1>
                <p class="text-lg text-gray-600">A flexible week-by-week guide. Click on a section to expand and see the details.</p>
            </div>
            <div class="space-y-4 max-w-4xl mx-auto">
                <!-- Itinerary Week 1: Phnom Penh -->
                <div id="week1" class="accordion-item bg-white rounded-xl shadow-md overflow-hidden">
                    <button class="accordion-header w-full p-6 text-left flex justify-between items-center">
                        <span class="text-xl font-bold">Aug 13 - Aug 18: Phnom Penh (Arrival & Exploration)</span>
                        <span class="text-2xl font-light transform transition-transform duration-300">‚ñº</span>
                    </button>
                    <div class="accordion-content">
                        <div class="p-6 pt-0 text-gray-700 space-y-4">
                                <div class="bg-blue-50 p-4 rounded-lg">
                                    <h5 class="font-bold mb-2">Arrival Details (Aug 13: Phnom Penh Int'l Airport - PNH)</h5>
                                    <div class="grid sm:grid-cols-3 gap-4">
                                        <div class="relative">
                                            <label class="text-sm font-medium text-gray-600">Departure Airport</label>
                                            <input type="text" id="arrival-departure-airport" placeholder="e.g., Hanoi (HAN)" value="Hanoi (HAN)" class="savable mt-1 w-full p-2 rounded border border-blue-200 focus:ring-blue-500 focus:border-blue-500 pr-10">
                                            <button class="lock-btn group absolute inset-y-0 right-0 top-5 flex items-center pr-3" data-target="arrival-departure-airport"></button>
                                        </div>
                                        <div class="relative">
                                            <label class="text-sm font-medium text-gray-600">Departure Time</label>
                                            <input type="time" id="arrival-departure-time" class="savable mt-1 w-full p-2 rounded border border-blue-200 focus:ring-blue-500 focus:border-blue-500 pr-10" value="14:55">
                                            <button class="lock-btn group absolute inset-y-0 right-0 top-5 flex items-center pr-3" data-target="arrival-departure-time"></button>
                                        </div>
                                        <div class="relative">
                                            <label class="text-sm font-medium text-gray-600">Arrival Time</label>
                                            <input type="time" id="arrival-flight-time" class="savable mt-1 w-full p-2 rounded border border-blue-200 focus:ring-blue-500 focus:border-blue-500 pr-10" value="16:45">
                                            <button class="lock-btn group absolute inset-y-0 right-0 top-5 flex items-center pr-3" data-target="arrival-flight-time"></button>
                                        </div>
                                        <div class="relative">
                                            <label class="text-sm font-medium text-gray-600">Flight Number</label>
                                            <input type="text" id="arrival-flight-no" placeholder="e.g., QR970" value="KT621" class="savable mt-1 w-full p-2 rounded border border-blue-200 focus:ring-blue-500 focus:border-blue-500 pr-10">
                                            <button class="lock-btn group absolute inset-y-0 right-0 top-5 flex items-center pr-3" data-target="arrival-flight-no"></button>
                                        </div>
                                        <div class="relative">
                                            <label class="text-sm font-medium text-gray-600">Airline</label>
                                            <input type="text" id="arrival-airline" placeholder="e.g., Qatar Airways" value="AirAsia Cambodia" class="savable mt-1 w-full p-2 rounded border border-blue-200 focus:ring-blue-500 focus:border-blue-500 pr-10">
                                            <button class="lock-btn group absolute inset-y-0 right-0 top-5 flex items-center pr-3" data-target="arrival-airline"></button>
                                        </div>
                                        <div class="relative">
                                            <label class="text-sm font-medium text-gray-600">Booked With</label>
                                            <input type="text" id="arrival-booked-with" placeholder="e.g., Skyscanner" value="Gotogate" class="savable mt-1 w-full p-2 rounded border border-blue-200 focus:ring-blue-500 focus:border-blue-500 pr-10">
                                            <button class="lock-btn group absolute inset-y-0 right-0 top-5 flex items-center pr-3" data-target="arrival-booked-with"></button>
                                        </div>
                                    </div>
                                    <div class="mt-4 relative">
                                        <label class="text-sm font-medium text-gray-600">Document Link</label>
                                        <input type="url" id="arrival-flight-link" placeholder="Paste link to flight ticket..." class="savable mt-1 w-full p-2 rounded border border-blue-200 focus:ring-blue-500 focus:border-blue-500 pr-10">
                                        <button class="lock-btn group absolute inset-y-0 right-0 top-5 flex items-center pr-3" data-target="arrival-flight-link"></button>
                                    </div>
                                </div>
                                <p class="pt-4">Arrive and settle into the bustling capital city of Cambodia.</p>
                                <ul class="space-y-2 list-inside">
                                    <li class="flex items-center"><input type="checkbox" id="activity-pp-genocide" class="savable mr-3 h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500"><strong>Tuol Sleng Genocide Museum & Killing Fields</strong> (sobering but essential).</li>
                                    <li class="flex items-center"><input type="checkbox" id="activity-pp-palace" class="savable mr-3 h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500"><strong>The Royal Palace & Silver Pagoda.</strong></li>
                                    <li class="flex items-center"><input type="checkbox" id="activity-pp-mekong" class="savable mr-3 h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500">Walk along the Mekong River waterfront at sunset.</li>
                                    <li class="flex items-center"><input type="checkbox" id="activity-pp-market" class="savable mr-3 h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500">Explore the Russian Market and Central Market for souvenirs.</li>
                                </ul>
                                <div class="bg-blue-50 p-4 rounded-lg mt-4">
                                    <h5 class="font-bold mb-2">Accommodation Details (Aug 13 - Aug 18)</h5>
                                    <div class="grid grid-cols-1 sm:grid-cols-3 gap-4">
                                        <div class="relative">
                                            <label class="text-sm font-medium text-gray-600">Hotel Name</label>
                                            <input type="text" id="hotel-name-pp1" placeholder="e.g., Palace Gate Hotel" value="Parc21 Luxury Boutique Hotel" class="savable mt-1 w-full p-2 rounded border border-blue-200 focus:ring-blue-500 focus:border-blue-500 pr-10">
                                            <button class="lock-btn group absolute inset-y-0 right-0 top-5 flex items-center pr-3" data-target="hotel-name-pp1"></button>
                                        </div>
                                        <div class="relative">
                                            <label class="text-sm font-medium text-gray-600">Booking Ref.</label>
                                            <input type="text" id="hotel-ref-pp1" placeholder="e.g., #HOTEL1" value="1637728313" class="savable mt-1 w-full p-2 rounded border border-blue-200 focus:ring-blue-500 focus:border-blue-500 pr-10">
                                            <button class="lock-btn group absolute inset-y-0 right-0 top-5 flex items-center pr-3" data-target="hotel-ref-pp1"></button>
                                        </div>
                                        <div class="relative">
                                            <label class="text-sm font-medium text-gray-600">Booking Company</label>
                                            <input type="text" id="booking-company-pp1" placeholder="e.g., Agoda" value="Agoda" class="savable mt-1 w-full p-2 rounded border border-blue-200 focus:ring-blue-500 focus:border-blue-500 pr-10">
                                            <button class="lock-btn group absolute inset-y-0 right-0 top-5 flex items-center pr-3" data-target="booking-company-pp1"></button>
                                        </div>
                                    </div>
                                    <div class="mt-4 relative">
                                        <label class="text-sm font-medium text-gray-600">Document Link</label>
                                        <input type="url" id="hotel-link-pp1" placeholder="Paste link to hotel confirmation..." class="savable mt-1 w-full p-2 rounded border border-blue-200 focus:ring-blue-500 focus:border-blue-500 pr-10">
                                        <button class="lock-btn group absolute inset-y-0 right-0 top-5 flex items-center pr-3" data-target="hotel-link-pp1"></button>
                                    </div>
                                </div>
                                 <div class="mt-4 relative">
                                    <label class="text-sm font-medium text-gray-600">Notes</label>
                                    <textarea id="notes-pp1" placeholder="Any thoughts or recommendations..." class="savable mt-1 w-full p-2 rounded border border-gray-300 focus:ring-blue-500 focus:border-blue-500 pr-10"></textarea>
                                    <button class="lock-btn group absolute top-8 right-0 flex items-center pr-3" data-target="notes-pp1"></button>
                                </div>
                                <p><strong>Food to Try:</strong> Nom Banh Chok (Khmer noodles), street-side pork and rice, various dishes at the night market.</p>
                        </div>
                    </div>
                </div>
                <!-- Itinerary Week 2: The South -->
                <div id="week2" class="accordion-item bg-white rounded-xl shadow-md overflow-hidden">
                    <button class="accordion-header w-full p-6 text-left flex justify-between items-center">
                        <span class="text-xl font-bold">Aug 18 - Aug 25: The South (Sihanoukville & Islands)</span>
                        <span class="text-2xl font-light transform transition-transform duration-300">‚ñº</span>
                    </button>
                    <div class="accordion-content">
                        <div class="p-6 pt-0 text-gray-700 space-y-4">
                            <p>Head south for island life and relaxation, with a buffer night each side in the port town.</p>
                            <div class="bg-blue-50 p-4 rounded-lg">
                                <h5 class="font-bold mb-2">Transportation Details (Aug 18: Phnom Penh ‚Üí Sihanoukville)</h5>
                                <div class="grid sm:grid-cols-3 gap-4">
                                    <div class="relative">
                                        <label class="text-sm font-medium text-gray-600">Bus Operator</label>
                                        <input type="text" id="bus-company-pp-sihanouk" placeholder="e.g., Giant Ibis" value="Champa Tourist Bus" class="savable mt-1 w-full p-2 rounded border border-blue-200 focus:ring-blue-500 focus:border-blue-500 pr-10">
                                        <button class="lock-btn group absolute inset-y-0 right-0 top-5 flex items-center pr-3" data-target="bus-company-pp-sihanouk"></button>
                                    </div>
                                    <div class="relative">
                                        <label class="text-sm font-medium text-gray-600">Departure Time</label>
                                        <input type="time" id="bus-time-pp-sihanouk" class="savable mt-1 w-full p-2 rounded border border-blue-200 focus:ring-blue-500 focus:border-blue-500 pr-10" value="14:30">
                                        <button class="lock-btn group absolute inset-y-0 right-0 top-5 flex items-center pr-3" data-target="bus-time-pp-sihanouk"></button>
                                    </div>
                                    <div class="relative">
                                        <label class="text-sm font-medium text-gray-600">Arrival Time</label>
                                        <input type="time" id="bus-arrival-time-pp-sihanouk" class="savable mt-1 w-full p-2 rounded border border-blue-200 focus:ring-blue-500 focus:border-blue-500 pr-10" value="17:30">
                                        <button class="lock-btn group absolute inset-y-0 right-0 top-5 flex items-center pr-3" data-target="bus-arrival-time-pp-sihanouk"></button>
                                    </div>
                                    <div class="relative">
                                        <label class="text-sm font-medium text-gray-600">Booked With</label>
                                        <input type="text" id="bus-booked-with-pp-sihanouk" placeholder="e.g., 12Go Asia" value="CP Phnom Penh Office" class="savable mt-1 w-full p-2 rounded border border-blue-200 focus:ring-blue-500 focus:border-blue-500 pr-10">
                                        <button class="lock-btn group absolute inset-y-0 right-0 top-5 flex items-center pr-3" data-target="bus-booked-with-pp-sihanouk"></button>
                                    </div>
                                    <div class="relative">
                                        <label class="text-sm font-medium text-gray-600">Booking Ref.</label>
                                        <input type="text" id="bus-ref-pp-sihanouk" placeholder="e.g., #12345" value="U79170" class="savable mt-1 w-full p-2 rounded border border-blue-200 focus:ring-blue-500 focus:border-blue-500 pr-10">
                                        <button class="lock-btn group absolute inset-y-0 right-0 top-5 flex items-center pr-3" data-target="bus-ref-pp-sihanouk"></button>
                                    </div>
                                </div>
                                <div class="mt-4 relative">
                                    <label class="text-sm font-medium text-gray-600">Document Link</label>
                                    <input type="url" id="bus-link-pp-sihanouk" placeholder="Paste link to bus ticket..." class="savable mt-1 w-full p-2 rounded border border-blue-200 focus:ring-blue-500 focus:border-blue-500 pr-10">
                                    <button class="lock-btn group absolute inset-y-0 right-0 top-5 flex items-center pr-3" data-target="bus-link-pp-sihanouk"></button>
                                </div>
                            </div>
                             <h4 class="font-bold text-lg pt-4">Sihanoukville (1 night)</h4>
                             <p>Stay overnight to catch an early ferry to the islands.</p>
                             <div class="bg-blue-50 p-4 rounded-lg mt-4">
                                <h5 class="font-bold mb-2">Accommodation Details (Aug 18 - Aug 19)</h5>
                                <div class="grid grid-cols-1 sm:grid-cols-3 gap-4">
                                    <div class="relative">
                                        <label class="text-sm font-medium text-gray-600">Hotel Name</label>
                                        <input type="text" id="hotel-name-sihanouk1" placeholder="e.g., Queenco Hotel" value="Munich Hotel" class="savable mt-1 w-full p-2 rounded border border-blue-200 focus:ring-blue-500 focus:border-blue-500 pr-10">
                                        <button class="lock-btn group absolute inset-y-0 right-0 top-5 flex items-center pr-3" data-target="hotel-name-sihanouk1"></button>
                                    </div>
                                    <div class="relative">
                                        <label class="text-sm font-medium text-gray-600">Booking Ref.</label>
                                        <input type="text" id="hotel-ref-sihanouk1" placeholder="e.g., #HOTEL2" value="1638542766" class="savable mt-1 w-full p-2 rounded border border-blue-200 focus:ring-blue-500 focus:border-blue-500 pr-10">
                                        <button class="lock-btn group absolute inset-y-0 right-0 top-5 flex items-center pr-3" data-target="hotel-ref-sihanouk1"></button>
                                    </div>
                                    <div class="relative">
                                        <label class="text-sm font-medium text-gray-600">Booking Company</label>
                                        <input type="text" id="booking-company-sihanouk1" placeholder="e.g., Agoda" value="Agoda" class="savable mt-1 w-full p-2 rounded border border-blue-200 focus:ring-blue-500 focus:border-blue-500 pr-10">
                                        <button class="lock-btn group absolute inset-y-0 right-0 top-5 flex items-center pr-3" data-target="booking-company-sihanouk1"></button>
                                    </div>
                                </div>
                                 <div class="mt-4 relative">
                                    <label class="text-sm font-medium text-gray-600">Document Link</label>
                                    <input type="url" id="hotel-link-sihanouk1" placeholder="Paste link to hotel confirmation..." class="savable mt-1 w-full p-2 rounded border border-blue-200 focus:ring-blue-500 focus:border-blue-500 pr-10">
                                    <button class="lock-btn group absolute inset-y-0 right-0 top-5 flex items-center pr-3" data-target="hotel-link-sihanouk1"></button>
                                </div>
                            </div>
                             <h4 class="font-bold text-lg pt-4">Koh Rong / Koh Rong Samloem (5 nights)</h4>
                            <div class="bg-blue-50 p-4 rounded-lg">
                                <h5 class="font-bold mb-2">Ferry Details (Aug 19: Sihanoukville ‚Üí Koh Rong Samloem)</h5>
                                <div class="grid sm:grid-cols-3 gap-4">
                                    <div class="relative">
                                        <label class="text-sm font-medium text-gray-600">Ferry Operator</label>
                                        <input type="text" id="ferry-operator-kohrong" placeholder="e.g., Buva Sea" class="savable mt-1 w-full p-2 rounded border border-blue-200 focus:ring-blue-500 focus:border-blue-500 pr-10">
                                        <button class="lock-btn group absolute inset-y-0 right-0 top-5 flex items-center pr-3" data-target="ferry-operator-kohrong"></button>
                                    </div>
                                    <div class="relative">
                                        <label class="text-sm font-medium text-gray-600">Departure Time</label>
                                        <input type="time" id="ferry-time-kohrong" class="savable mt-1 w-full p-2 rounded border border-blue-200 focus:ring-blue-500 focus:border-blue-500 pr-10">
                                        <button class="lock-btn group absolute inset-y-0 right-0 top-5 flex items-center pr-3" data-target="ferry-time-kohrong"></button>
                                    </div>
                                     <div class="relative">
                                        <label class="text-sm font-medium text-gray-600">Arrival Time</label>
                                        <input type="time" id="ferry-arrival-time-kohrong" class="savable mt-1 w-full p-2 rounded border border-blue-200 focus:ring-blue-500 focus:border-blue-500 pr-10">
                                        <button class="lock-btn group absolute inset-y-0 right-0 top-5 flex items-center pr-3" data-target="ferry-arrival-time-kohrong"></button>
                                    </div>
                                    <div class="relative">
                                        <label class="text-sm font-medium text-gray-600">Booked With</label>
                                        <input type="text" id="ferry-booked-with-kohrong" placeholder="e.g., 12Go Asia" class="savable mt-1 w-full p-2 rounded border border-blue-200 focus:ring-blue-500 focus:border-blue-500 pr-10">
                                        <button class="lock-btn group absolute inset-y-0 right-0 top-5 flex items-center pr-3" data-target="ferry-booked-with-kohrong"></button>
                                    </div>
                                    <div class="relative">
                                        <label class="text-sm font-medium text-gray-600">Booking Ref.</label>
                                        <input type="text" id="ferry-ref-kohrong" placeholder="e.g., #FERRY1" class="savable mt-1 w-full p-2 rounded border border-blue-200 focus:ring-blue-500 focus:border-blue-500 pr-10">
                                        <button class="lock-btn group absolute inset-y-0 right-0 top-5 flex items-center pr-3" data-target="ferry-ref-kohrong"></button>
                                    </div>
                                </div>
                                <div class="mt-4 relative">
                                    <label class="text-sm font-medium text-gray-600">Document Link</label>
                                    <input type="url" id="ferry-link-kohrong" placeholder="Paste link to ferry ticket..." class="savable mt-1 w-full p-2 rounded border border-blue-200 focus:ring-blue-500 focus:border-blue-500 pr-10">
                                    <button class="lock-btn group absolute inset-y-0 right-0 top-5 flex items-center pr-3" data-target="ferry-link-kohrong"></button>
                                </div>
                            </div>
                            <ul class="space-y-2 list-inside">
                                <li class="flex items-center"><input type="checkbox" id="activity-islands-snorkel" class="savable mr-3 h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500">Snorkeling or diving trips.</li>
                                <li class="flex items-center"><input type="checkbox" id="activity-islands-plankton" class="savable mr-3 h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500"><strong>Bioluminescent plankton</strong> tour at night.</li>
                                <li class="flex items-center"><input type="checkbox" id="activity-islands-beach" class="savable mr-3 h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500">Beach hopping and relaxing in a hammock.</li>
                            </ul>
                            <div class="bg-blue-50 p-4 rounded-lg mt-4">
                                <h5 class="font-bold mb-2">Accommodation Details (Aug 19 - Aug 24)</h5>
                                <div class="grid grid-cols-1 sm:grid-cols-3 gap-4">
                                    <div class="relative">
                                        <label class="text-sm font-medium text-gray-600">Hotel Name</label>
                                        <input type="text" id="hotel-name-islands" placeholder="e.g., The Royal Sands" value="Pearl Beach Resort & Spa" class="savable mt-1 w-full p-2 rounded border border-blue-200 focus:ring-blue-500 focus:border-blue-500 pr-10">
                                        <button class="lock-btn group absolute inset-y-0 right-0 top-5 flex items-center pr-3" data-target="hotel-name-islands"></button>
                                    </div>
                                    <div class="relative">
                                        <label class="text-sm font-medium text-gray-600">Booking Ref.</label>
                                        <input type="text" id="hotel-ref-islands" placeholder="e.g., #HOTEL3" value="1638538170 / 5052698562" class="savable mt-1 w-full p-2 rounded border border-blue-200 focus:ring-blue-500 focus:border-blue-500 pr-10">
                                        <button class="lock-btn group absolute inset-y-0 right-0 top-5 flex items-center pr-3" data-target="hotel-ref-islands"></button>
                                    </div>
                                    <div class="relative">
                                        <label class="text-sm font-medium text-gray-600">Booking Company</label>
                                        <input type="text" id="booking-company-islands" placeholder="e.g., Agoda" value="Agoda / Booking.com" class="savable mt-1 w-full p-2 rounded border border-blue-200 focus:ring-blue-500 focus:border-blue-500 pr-10">
                                        <button class="lock-btn group absolute inset-y-0 right-0 top-5 flex items-center pr-3" data-target="booking-company-islands"></button>
                                    </div>
                                </div>
                                 <div class="mt-4 relative">
                                    <label class="text-sm font-medium text-gray-600">Document Link</label>
                                    <input type="url" id="hotel-link-islands" placeholder="Paste link to hotel confirmation..." class="savable mt-1 w-full p-2 rounded border border-blue-200 focus:ring-blue-500 focus:border-blue-500 pr-10">
                                    <button class="lock-btn group absolute inset-y-0 right-0 top-5 flex items-center pr-3" data-target="hotel-link-islands"></button>
                                </div>
                            </div>
                            <div class="bg-blue-50 p-4 rounded-lg">
                                <h5 class="font-bold mb-2">Ferry Details (Aug 24: Koh Rong Samloem ‚Üí Sihanoukville)</h5>
                                <div class="grid sm:grid-cols-3 gap-4">
                                    <div class="relative">
                                        <label class="text-sm font-medium text-gray-600">Ferry Operator</label>
                                        <input type="text" id="ferry-operator-sihanoukville" placeholder="e.g., Buva Sea" class="savable mt-1 w-full p-2 rounded border border-blue-200 focus:ring-blue-500 focus:border-blue-500 pr-10">
                                        <button class="lock-btn group absolute inset-y-0 right-0 top-5 flex items-center pr-3" data-target="ferry-operator-sihanoukville"></button>
                                    </div>
                                    <div class="relative">
                                        <label class="text-sm font-medium text-gray-600">Departure Time</label>
                                        <input type="time" id="ferry-time-sihanoukville" class="savable mt-1 w-full p-2 rounded border border-blue-200 focus:ring-blue-500 focus:border-blue-500 pr-10">
                                        <button class="lock-btn group absolute inset-y-0 right-0 top-5 flex items-center pr-3" data-target="ferry-time-sihanoukville"></button>
                                    </div>
                                     <div class="relative">
                                        <label class="text-sm font-medium text-gray-600">Arrival Time</label>
                                        <input type="time" id="ferry-arrival-time-sihanoukville" class="savable mt-1 w-full p-2 rounded border border-blue-200 focus:ring-blue-500 focus:border-blue-500 pr-10">
                                        <button class="lock-btn group absolute inset-y-0 right-0 top-5 flex items-center pr-3" data-target="ferry-arrival-time-sihanoukville"></button>
                                    </div>
                                    <div class="relative">
                                        <label class="text-sm font-medium text-gray-600">Booked With</label>
                                        <input type="text" id="ferry-booked-with-sihanoukville" placeholder="e.g., 12Go Asia" class="savable mt-1 w-full p-2 rounded border border-blue-200 focus:ring-blue-500 focus:border-blue-500 pr-10">
                                        <button class="lock-btn group absolute inset-y-0 right-0 top-5 flex items-center pr-3" data-target="ferry-booked-with-sihanoukville"></button>
                                    </div>
                                    <div class="relative">
                                        <label class="text-sm font-medium text-gray-600">Booking Ref.</label>
                                        <input type="text" id="ferry-ref-sihanoukville" placeholder="e.g., #FERRY2" class="savable mt-1 w-full p-2 rounded border border-blue-200 focus:ring-blue-500 focus:border-blue-500 pr-10">
                                        <button class="lock-btn group absolute inset-y-0 right-0 top-5 flex items-center pr-3" data-target="ferry-ref-sihanoukville"></button>
                                    </div>
                                </div>
                                <div class="mt-4 relative">
                                    <label class="text-sm font-medium text-gray-600">Document Link</label>
                                    <input type="url" id="ferry-link-sihanoukville" placeholder="Paste link to ferry ticket..." class="savable mt-1 w-full p-2 rounded border border-blue-200 focus:ring-blue-500 focus:border-blue-500 pr-10">
                                    <button class="lock-btn group absolute inset-y-0 right-0 top-5 flex items-center pr-3" data-target="ferry-link-sihanoukville"></button>
                                </div>
                            </div>
                            <h4 class="font-bold text-lg pt-4">Sihanoukville (1 night)</h4>
                             <p>Return from the islands and stay overnight before heading back to Phnom Penh.</p>
                             <div class="bg-blue-50 p-4 rounded-lg mt-4">
                                <h5 class="font-bold mb-2">Accommodation Details (Aug 24 - Aug 25)</h5>
                                <div class="grid grid-cols-1 sm:grid-cols-3 gap-4">
                                    <div class="relative">
                                        <label class="text-sm font-medium text-gray-600">Hotel Name</label>
                                        <input type="text" id="hotel-name-sihanouk2" placeholder="e.g., Queenco Hotel" value="Munich Hotel" class="savable mt-1 w-full p-2 rounded border border-blue-200 focus:ring-blue-500 focus:border-blue-500 pr-10">
                                        <button class="lock-btn group absolute inset-y-0 right-0 top-5 flex items-center pr-3" data-target="hotel-name-sihanouk2"></button>
                                    </div>
                                    <div class="relative">
                                        <label class="text-sm font-medium text-gray-600">Booking Ref.</label>
                                        <input type="text" id="hotel-ref-sihanouk2" placeholder="e.g., #HOTEL4" value="1638549271" class="savable mt-1 w-full p-2 rounded border border-blue-200 focus:ring-blue-500 focus:border-blue-500 pr-10">
                                        <button class="lock-btn group absolute inset-y-0 right-0 top-5 flex items-center pr-3" data-target="hotel-ref-sihanouk2"></button>
                                    </div>
                                    <div class="relative">
                                        <label class="text-sm font-medium text-gray-600">Booking Company</label>
                                        <input type="text" id="booking-company-sihanouk2" placeholder="e.g., Agoda" value="Agoda" class="savable mt-1 w-full p-2 rounded border border-blue-200 focus:ring-blue-500 focus:border-blue-500 pr-10">
                                        <button class="lock-btn group absolute inset-y-0 right-0 top-5 flex items-center pr-3" data-target="booking-company-sihanouk2"></button>
                                    </div>
                                </div>
                                <div class="mt-4 relative">
                                    <label class="text-sm font-medium text-gray-600">Hotel Contact Number</label>
                                    <input type="text" id="hotel-contact-sihanouk2" placeholder="+855 123 456 789" value="+855069888966" class="savable mt-1 w-full p-2 rounded border border-blue-200 focus:ring-blue-500 focus:border-blue-500 pr-10">
                                    <button class="lock-btn group absolute inset-y-0 right-0 top-5 flex items-center pr-3" data-target="hotel-contact-sihanouk2"></button>
                                </div>
                                 <div class="mt-4 relative">
                                    <label class="text-sm font-medium text-gray-600">Document Link</label>
                                    <input type="url" id="hotel-link-sihanouk2" placeholder="Paste link to hotel confirmation..." class="savable mt-1 w-full p-2 rounded border border-blue-200 focus:ring-blue-500 focus:border-blue-500 pr-10">
                                    <button class="lock-btn group absolute inset-y-0 right-0 top-5 flex items-center pr-3" data-target="hotel-link-sihanouk2"></button>
                                </div>
                            </div>
                             <div class="mt-4 relative">
                                <label class="text-sm font-medium text-gray-600">Notes</label>
                                <textarea id="notes-islands" placeholder="Any thoughts or recommendations..." class="savable mt-1 w-full p-2 rounded border border-gray-300 focus:ring-blue-500 focus:border-blue-500 pr-10"></textarea>
                                <button class="lock-btn group absolute top-8 right-0 flex items-center pr-3" data-target="notes-islands"></button>
                            </div>
                            <p><strong>Food to Try:</strong> Fresh seafood BBQ on the beach.</p>
                        </div>
                    </div>
                </div>
                <!-- Itinerary Week 3: Phnom Penh Return -->
                <div id="week3" class="accordion-item bg-white rounded-xl shadow-md overflow-hidden">
                    <button class="accordion-header w-full p-6 text-left flex justify-between items-center">
                        <span class="text-xl font-bold">Aug 25 - Aug 29: Return to Phnom Penh</span>
                        <span class="text-2xl font-light transform transition-transform duration-300">‚ñº</span>
                    </button>
                    <div class="accordion-content">
                        <div class="p-6 pt-0 text-gray-700 space-y-4">
                           <div class="bg-blue-50 p-4 rounded-lg space-y-4">
                                <div>
                                    <h5 class="font-bold mb-2">Transportation Details (Aug 25: Sihanoukville ‚Üí Phnom Penh)</h5>
                                    <div class="grid sm:grid-cols-3 gap-4">
                                        <div class="relative">
                                            <label class="text-sm font-medium text-gray-600">Bus Operator</label>
                                            <input type="text" id="bus-company-sihanouk-pp" placeholder="e.g., Giant Ibis" value="RA Express VIP" class="savable mt-1 w-full p-2 rounded border border-blue-200 focus:ring-blue-500 focus:border-blue-500 pr-10">
                                            <button class="lock-btn group absolute inset-y-0 right-0 top-5 flex items-center pr-3" data-target="bus-company-sihanouk-pp"></button>
                                        </div>
                                        <div class="relative">
                                            <label class="text-sm font-medium text-gray-600">Departure Time</label>
                                            <input type="time" id="bus-time-sihanouk-pp" class="savable mt-1 w-full p-2 rounded border border-blue-200 focus:ring-blue-500 focus:border-blue-500 pr-10" value="13:45">
                                            <button class="lock-btn group absolute inset-y-0 right-0 top-5 flex items-center pr-3" data-target="bus-time-sihanouk-pp"></button>
                                        </div>
                                        <div class="relative">
                                            <label class="text-sm font-medium text-gray-600">Arrival Time</label>
                                            <input type="time" id="bus-arrival-time-sihanouk-pp" class="savable mt-1 w-full p-2 rounded border border-blue-200 focus:ring-blue-500 focus:border-blue-500 pr-10" value="16:45">
                                            <button class="lock-btn group absolute inset-y-0 right-0 top-5 flex items-center pr-3" data-target="bus-arrival-time-sihanouk-pp"></button>
                                        </div>
                                        <div class="relative">
                                            <label class="text-sm font-medium text-gray-600">Booked With</label>
                                            <input type="text" id="bus-booked-with-sihanouk-pp" placeholder="e.g., 12Go Asia" value="12Go Asia" class="savable mt-1 w-full p-2 rounded border border-blue-200 focus:ring-blue-500 focus:border-blue-500 pr-10">
                                            <button class="lock-btn group absolute inset-y-0 right-0 top-5 flex items-center pr-3" data-target="bus-booked-with-sihanouk-pp"></button>
                                        </div>
                                        <div class="relative">
                                            <label class="text-sm font-medium text-gray-600">Booking Ref.</label>
                                            <input type="text" id="bus-ref-sihanouk-pp" placeholder="e.g., #67890" value="12GO22144321" class="savable mt-1 w-full p-2 rounded border border-blue-200 focus:ring-blue-500 focus:border-blue-500 pr-10">
                                            <button class="lock-btn group absolute inset-y-0 right-0 top-5 flex items-center pr-3" data-target="bus-ref-sihanouk-pp"></button>
                                        </div>
                                    </div>
                                    <div class="mt-4 relative">
                                        <label class="text-sm font-medium text-gray-600">Document Link</label>
                                        <input type="url" id="bus-link-sihanouk-pp" placeholder="Paste link to bus ticket..." class="savable mt-1 w-full p-2 rounded border border-blue-200 focus:ring-blue-500 focus:border-blue-500 pr-10">
                                        <button class="lock-btn group absolute inset-y-0 right-0 top-5 flex items-center pr-3" data-target="bus-link-sihanouk-pp"></button>
                                    </div>
                                </div>
                            </div>
                            <h4 class="font-bold text-lg pt-4">Phnom Penh (4 nights)</h4>
                            <ul class="space-y-2 list-inside">
                                <li class="flex items-center"><input type="checkbox" id="activity-pp2-relax" class="savable mr-3 h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500">Relax, do some last-minute shopping, or revisit a favorite spot.</li>
                            </ul>
                            <div class="bg-blue-50 p-4 rounded-lg mt-4">
                                <h5 class="font-bold mb-2">Accommodation Details (Aug 25 - Aug 29)</h5>
                                <div class="grid grid-cols-1 sm:grid-cols-3 gap-4">
                                    <div class="relative">
                                        <label class="text-sm font-medium text-gray-600">Hotel Name</label>
                                        <input type="text" id="hotel-name-pp2" placeholder="e.g., Plantation Urban Resort" value="Parc21 Luxury Boutique Hotel" class="savable mt-1 w-full p-2 rounded border border-blue-200 focus:ring-blue-500 focus:border-blue-500 pr-10">
                                        <button class="lock-btn group absolute inset-y-0 right-0 top-5 flex items-center pr-3" data-target="hotel-name-pp2"></button>
                                    </div>
                                    <div class="relative">
                                        <label class="text-sm font-medium text-gray-600">Booking Ref.</label>
                                        <input type="text" id="hotel-ref-pp2" placeholder="e.g., #HOTEL5" value="1637728313" class="savable mt-1 w-full p-2 rounded border border-blue-200 focus:ring-blue-500 focus:border-blue-500 pr-10">
                                        <button class="lock-btn group absolute inset-y-0 right-0 top-5 flex items-center pr-3" data-target="hotel-ref-pp2"></button>
                                    </div>
                                    <div class="relative">
                                        <label class="text-sm font-medium text-gray-600">Booking Company</label>
                                        <input type="text" id="booking-company-pp2" placeholder="e.g., Agoda" value="Agoda" class="savable mt-1 w-full p-2 rounded border border-blue-200 focus:ring-blue-500 focus:border-blue-500 pr-10">
                                        <button class="lock-btn group absolute inset-y-0 right-0 top-5 flex items-center pr-3" data-target="booking-company-pp2"></button>
                                    </div>
                                </div>
                                <div class="mt-4 relative">
                                    <label class="text-sm font-medium text-gray-600">Document Link</label>
                                    <input type="url" id="hotel-link-pp2" placeholder="Paste link to hotel confirmation..." class="savable mt-1 w-full p-2 rounded border border-blue-200 focus:ring-blue-500 focus:border-blue-500 pr-10">
                                    <button class="lock-btn group absolute inset-y-0 right-0 top-5 flex items-center pr-3" data-target="hotel-link-pp2"></button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- Itinerary Battambang -->
                <div id="battambang-section" class="accordion-item bg-white rounded-xl shadow-md overflow-hidden">
                    <button class="accordion-header w-full p-6 text-left flex justify-between items-center">
                        <span class="text-xl font-bold">Aug 29 - Sep 1: Battambang</span>
                        <span class="text-2xl font-light transform transition-transform duration-300">‚ñº</span>
                    </button>
                    <div class="accordion-content">
                        <div class="p-6 pt-0 text-gray-700 space-y-4">
                           <div class="bg-blue-50 p-4 rounded-lg space-y-4">
                                <div>
                                    <h5 class="font-bold mb-2">Transportation Details (Aug 29: Phnom Penh ‚Üí Battambang)</h5>
                                    <div class="grid sm:grid-cols-3 gap-4">
                                        <div class="relative">
                                            <label class="text-sm font-medium text-gray-600">Bus Operator</label>
                                            <input type="text" id="bus-company-pp-batt" placeholder="e.g., Mekong Express" value="Capitol VIP" class="savable mt-1 w-full p-2 rounded border border-blue-200 focus:ring-blue-500 focus:border-blue-500 pr-10">
                                            <button class="lock-btn group absolute inset-y-0 right-0 top-5 flex items-center pr-3" data-target="bus-company-pp-batt"></button>
                                        </div>
                                        <div class="relative">
                                            <label class="text-sm font-medium text-gray-600">Departure Time</label>
                                            <input type="time" id="bus-time-pp-batt" class="savable mt-1 w-full p-2 rounded border border-blue-200 focus:ring-blue-500 focus:border-blue-500 pr-10" value="12:30">
                                            <button class="lock-btn group absolute inset-y-0 right-0 top-5 flex items-center pr-3" data-target="bus-time-pp-batt"></button>
                                        </div>
                                        <div class="relative">
                                            <label class="text-sm font-medium text-gray-600">Arrival Time</label>
                                            <input type="time" id="bus-arrival-time-pp-batt" class="savable mt-1 w-full p-2 rounded border border-blue-200 focus:ring-blue-500 focus:border-blue-500 pr-10" value="17:30">
                                            <button class="lock-btn group absolute inset-y-0 right-0 top-5 flex items-center pr-3" data-target="bus-arrival-time-pp-batt"></button>
                                        </div>
                                        <div class="relative">
                                            <label class="text-sm font-medium text-gray-600">Booked With</label>
                                            <input type="text" id="bus-booked-with-pp-batt" placeholder="e.g., 12Go Asia" class="savable mt-1 w-full p-2 rounded border border-blue-200 focus:ring-blue-500 focus:border-blue-500 pr-10">
                                            <button class="lock-btn group absolute inset-y-0 right-0 top-5 flex items-center pr-3" data-target="bus-booked-with-pp-batt"></button>
                                        </div>
                                        <div class="relative">
                                            <label class="text-sm font-medium text-gray-600">Booking Ref.</label>
                                            <input type="text" id="bus-ref-pp-batt" placeholder="e.g., #ABCDE" value="CPT-DmAIqCJmroK0q" class="savable mt-1 w-full p-2 rounded border border-blue-200 focus:ring-blue-500 focus:border-blue-500 pr-10">
                                            <button class="lock-btn group absolute inset-y-0 right-0 top-5 flex items-center pr-3" data-target="bus-ref-pp-batt"></button>
                                        </div>
                                    </div>
                                    <div class="mt-4 relative">
                                        <label class="text-sm font-medium text-gray-600">Document Link</label>
                                        <input type="url" id="bus-link-pp-batt" placeholder="Paste link to bus ticket..." class="savable mt-1 w-full p-2 rounded border border-blue-200 focus:ring-blue-500 focus:border-blue-500 pr-10">
                                        <button class="lock-btn group absolute inset-y-0 right-0 top-5 flex items-center pr-3" data-target="bus-link-pp-batt"></button>
                                    </div>
                                </div>
                            </div>
                             <h4 class="font-bold text-lg pt-4">Battambang (3 nights)</h4>
                            <ul class="space-y-2 list-inside">
                                <li class="flex items-center"><input type="checkbox" id="activity-batt-train" class="savable mr-3 h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500">Ride the <strong>Bamboo Train (Norry)</strong>.</li>
                                <li class="flex items-center"><input type="checkbox" id="activity-batt-caves" class="savable mr-3 h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500">Explore the <strong>Killing Caves of Phnom Sampeau</strong> and see the bat exodus at dusk.</li>
                                <li class="flex items-center"><input type="checkbox" id="activity-batt-tour" class="savable mr-3 h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500">Take a countryside tour to see local life and artisans.</li>
                            </ul>
                             <div class="bg-blue-50 p-4 rounded-lg mt-4">
                                <h5 class="font-bold mb-2">Accommodation Details (Aug 29 - Sep 1)</h5>
                                <div class="grid grid-cols-1 sm:grid-cols-3 gap-4">
                                    <div class="relative">
                                        <label class="text-sm font-medium text-gray-600">Hotel Name</label>
                                        <input type="text" id="hotel-name-batt" placeholder="e.g., Bambu Hotel" value="Classy Hotel" class="savable mt-1 w-full p-2 rounded border border-blue-200 focus:ring-blue-500 focus:border-blue-500 pr-10">
                                        <button class="lock-btn group absolute inset-y-0 right-0 top-5 flex items-center pr-3" data-target="hotel-name-batt"></button>
                                    </div>
                                    <div class="relative">
                                        <label class="text-sm font-medium text-gray-600">Booking Ref.</label>
                                        <input type="text" id="hotel-ref-batt" placeholder="e.g., #HOTEL6" value="8250808026287302" class="savable mt-1 w-full p-2 rounded border border-blue-200 focus:ring-blue-500 focus:border-blue-500 pr-10">
                                        <button class="lock-btn group absolute inset-y-0 right-0 top-5 flex items-center pr-3" data-target="hotel-ref-batt"></button>
                                    </div>
                                    <div class="relative">
                                        <label class="text-sm font-medium text-gray-600">Booking Company</label>
                                        <input type="text" id="booking-company-batt" placeholder="e.g., Agoda" class="savable mt-1 w-full p-2 rounded border border-blue-200 focus:ring-blue-500 focus:border-blue-500 pr-10">
                                        <button class="lock-btn group absolute inset-y-0 right-0 top-5 flex items-center pr-3" data-target="booking-company-batt"></button>
                                    </div>
                                </div>
                                <div class="mt-4 relative">
                                    <label class="text-sm font-medium text-gray-600">Hotel Contact Number</label>
                                    <input type="text" id="hotel-contact-batt" placeholder="+855 123 456 789" value="+855764560000" class="savable mt-1 w-full p-2 rounded border border-blue-200 focus:ring-blue-500 focus:border-blue-500 pr-10">
                                    <button class="lock-btn group absolute inset-y-0 right-0 top-5 flex items-center pr-3" data-target="hotel-contact-batt"></button>
                                </div>
                                 <div class="mt-4 relative">
                                    <label class="text-sm font-medium text-gray-600">Document Link</label>
                                    <input type="url" id="hotel-link-batt" placeholder="Paste link to hotel confirmation..." class="savable mt-1 w-full p-2 rounded border border-blue-200 focus:ring-blue-500 focus:border-blue-500 pr-10">
                                    <button class="lock-btn group absolute inset-y-0 right-0 top-5 flex items-center pr-3" data-target="hotel-link-batt"></button>
                                </div>
                            </div>
                             <div class="mt-4 relative">
                                <label class="text-sm font-medium text-gray-600">Notes</label>
                                <textarea id="notes-batt" placeholder="Any thoughts or recommendations..." class="savable mt-1 w-full p-2 rounded border border-gray-300 focus:ring-blue-500 focus:border-blue-500 pr-10"></textarea>
                                <button class="lock-btn group absolute top-8 right-0 flex items-center pr-3" data-target="notes-batt"></button>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- Itinerary Week 4: Siem Reap -->
                <div id="week4" class="accordion-item bg-white rounded-xl shadow-md overflow-hidden">
                    <button class="accordion-header w-full p-6 text-left flex justify-between items-center">
                        <span class="text-xl font-bold">Sep 1 - Sep 8: Siem Reap & The Temples of Angkor</span>
                        <span class="text-2xl font-light transform transition-transform duration-300">‚ñº</span>
                    </button>
                    <div class="accordion-content">
                        <div class="p-6 pt-0 text-gray-700 space-y-4">
                            <p>End your journey exploring the magnificent ancient temples of the Khmer Empire.</p>
                            <div class="bg-blue-50 p-4 rounded-lg space-y-4">
                                <div>
                                    <h5 class="font-bold mb-2">Transportation Details (Sep 1: Battambang ‚Üí Siem Reap)</h5>
                                    <div class="grid sm:grid-cols-3 gap-4">
                                        <div class="relative">
                                            <label class="text-sm font-medium text-gray-600">Bus Operator</label>
                                            <input type="text" id="bus-company-batt-sr" placeholder="e.g., Giant Ibis" value="Universe County" class="savable mt-1 w-full p-2 rounded border border-blue-200 focus:ring-blue-500 focus:border-blue-500 pr-10">
                                            <button class="lock-btn group absolute inset-y-0 right-0 top-5 flex items-center pr-3" data-target="bus-company-batt-sr"></button>
                                        </div>
                                        <div class="relative">
                                            <label class="text-sm font-medium text-gray-600">Departure Time</label>
                                            <input type="time" id="bus-time-batt-sr" class="savable mt-1 w-full p-2 rounded border border-blue-200 focus:ring-blue-500 focus:border-blue-500 pr-10" value="13:30">
                                            <button class="lock-btn group absolute inset-y-0 right-0 top-5 flex items-center pr-3" data-target="bus-time-batt-sr"></button>
                                        </div>
                                        <div class="relative">
                                            <label class="text-sm font-medium text-gray-600">Arrival Time</label>
                                            <input type="time" id="bus-arrival-time-batt-sr" class="savable mt-1 w-full p-2 rounded border border-blue-200 focus:ring-blue-500 focus:border-blue-500 pr-10" value="16:30">
                                            <button class="lock-btn group absolute inset-y-0 right-0 top-5 flex items-center pr-3" data-target="bus-arrival-time-batt-sr"></button>
                                        </div>
                                        <div class="relative">
                                            <label class="text-sm font-medium text-gray-600">Booked With</label>
                                            <input type="text" id="bus-booked-with-batt-sr" placeholder="e.g., 12Go Asia" class="savable mt-1 w-full p-2 rounded border border-blue-200 focus:ring-blue-500 focus:border-blue-500 pr-10">
                                            <button class="lock-btn group absolute inset-y-0 right-0 top-5 flex items-center pr-3" data-target="bus-booked-with-batt-sr"></button>
                                        </div>
                                        <div class="relative">
                                            <label class="text-sm font-medium text-gray-600">Booking Ref.</label>
                                            <input type="text" id="bus-ref-batt-sr" placeholder="e.g., #FGHIJ" class="savable mt-1 w-full p-2 rounded border border-blue-200 focus:ring-blue-500 focus:border-blue-500 pr-10">
                                            <button class="lock-btn group absolute inset-y-0 right-0 top-5 flex items-center pr-3" data-target="bus-ref-batt-sr"></button>
                                        </div>
                                    </div>
                                     <div class="mt-4 relative">
                                        <label class="text-sm font-medium text-gray-600">Document Link</label>
                                        <input type="url" id="bus-link-batt-sr" placeholder="Paste link to bus ticket..." class="savable mt-1 w-full p-2 rounded border border-blue-200 focus:ring-blue-500 focus:border-blue-500 pr-10">
                                        <button class="lock-btn group absolute inset-y-0 right-0 top-5 flex items-center pr-3" data-target="bus-link-batt-sr"></button>
                                    </div>
                                </div>
                                <div class="pt-2">
                                    <h5 class="font-bold mb-2">Departure Details (Sep 8: Siem Reap Int'l Airport - SAI)</h5>
                                    <div class="grid sm:grid-cols-2 gap-4">
                                        <div class="relative">
                                            <label class="text-sm font-medium text-gray-600">Flight Number</label>
                                            <input type="text" id="departure-flight-no" placeholder="e.g., SQ167" value="VJ914" class="savable mt-1 w-full p-2 rounded border border-blue-200 focus:ring-blue-500 focus:border-blue-500 pr-10">
                                            <button class="lock-btn group absolute inset-y-0 right-0 top-5 flex items-center pr-3" data-target="departure-flight-no"></button>
                                        </div>
                                        <div class="relative">
                                            <label class="text-sm font-medium text-gray-600">Departure Time</label>
                                            <input type="time" id="departure-flight-time" class="savable mt-1 w-full p-2 rounded border border-blue-200 focus:ring-blue-500 focus:border-blue-500 pr-10" value="19:05">
                                            <button class="lock-btn group absolute inset-y-0 right-0 top-5 flex items-center pr-3" data-target="departure-flight-time"></button>
                                        </div>
                                        <div class="relative">
                                            <label class="text-sm font-medium text-gray-600">Airline</label>
                                            <input type="text" id="departure-airline" placeholder="e.g., Singapore Airlines" value="Vietjet Air" class="savable mt-1 w-full p-2 rounded border border-blue-200 focus:ring-blue-500 focus:border-blue-500 pr-10">
                                            <button class="lock-btn group absolute inset-y-0 right-0 top-5 flex items-center pr-3" data-target="departure-airline"></button>
                                        </div>
                                        <div class="relative">
                                            <label class="text-sm font-medium text-gray-600">Booked With</label>
                                            <input type="text" id="departure-booked-with" placeholder="e.g., Skyscanner" class="savable mt-1 w-full p-2 rounded border border-blue-200 focus:ring-blue-500 focus:border-blue-500 pr-10">
                                            <button class="lock-btn group absolute inset-y-0 right-0 top-5 flex items-center pr-3" data-target="departure-booked-with"></button>
                                        </div>
                                    </div>
                                    <div class="mt-4 relative">
                                        <label class="text-sm font-medium text-gray-600">Document Link</label>
                                        <input type="url" id="departure-flight-link" placeholder="Paste link to flight ticket..." class="savable mt-1 w-full p-2 rounded border border-blue-200 focus:ring-blue-500 focus:border-blue-500 pr-10">
                                        <button class="lock-btn group absolute inset-y-0 right-0 top-5 flex items-center pr-3" data-target="departure-flight-link"></button>
                                    </div>
                                </div>
                            </div>
                            <ul class="space-y-2 list-inside pt-4">
                                <li class="flex items-center"><input type="checkbox" id="activity-sr-angkor" class="savable mr-3 h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500"><strong>Angkor Wat:</strong> Get the 3-day pass ($62 USD). See the sunrise.</li>
                                <li class="flex items-center"><input type="checkbox" id="activity-sr-thom" class="savable mr-3 h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500"><strong>Angkor Thom:</strong> Explore Bayon Temple & Terrace of the Elephants.</li>
                                <li class="flex items-center"><input type="checkbox" id="activity-sr-ta-prohm" class="savable mr-3 h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500"><strong>Ta Prohm:</strong> The famous "Tomb Raider" temple.</li>
                                <li class="flex items-center"><input type="checkbox" id="activity-sr-pub-street" class="savable mr-3 h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500"><strong>Pub Street & Night Markets:</strong> Experience the lively evening atmosphere.</li>
                                <li class="flex items-center"><input type="checkbox" id="activity-sr-circus" class="savable mr-3 h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500"><strong>Phare, The Cambodian Circus:</strong> A must-see show.</li>
                                <li class="flex items-center"><input type="checkbox" id="activity-sr-lake" class="savable mr-3 h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500"><strong>Tonl√© Sap Lake:</strong> Visit a floating village.</li>
                            </ul>
                             <div class="bg-blue-50 p-4 rounded-lg mt-4">
                                <h5 class="font-bold mb-2">Accommodation Details (Sep 1 - Sep 8)</h5>
                                <div class="grid grid-cols-1 sm:grid-cols-3 gap-4">
                                    <div class="relative">
                                        <label class="text-sm font-medium text-gray-600">Hotel Name</label>
                                        <input type="text" id="hotel-name-sr" placeholder="e.g., Jaya House River Park" value="Karma Bayon" class="savable mt-1 w-full p-2 rounded border border-blue-200 focus:ring-blue-500 focus:border-blue-500 pr-10">
                                        <button class="lock-btn group absolute inset-y-0 right-0 top-5 flex items-center pr-3" data-target="hotel-name-sr"></button>
                                    </div>
                                    <div class="relative">
                                        <label class="text-sm font-medium text-gray-600">Booking Ref.</label>
                                        <input type="text" id="hotel-ref-sr" placeholder="e.g., #HOTEL7" class="savable mt-1 w-full p-2 rounded border border-blue-200 focus:ring-blue-500 focus:border-blue-500 pr-10">
                                        <button class="lock-btn group absolute inset-y-0 right-0 top-5 flex items-center pr-3" data-target="hotel-ref-sr"></button>
                                    </div>
                                    <div class="relative">
                                        <label class="text-sm font-medium text-gray-600">Booking Company</label>
                                        <input type="text" id="booking-company-sr" placeholder="e.g., Agoda" class="savable mt-1 w-full p-2 rounded border border-blue-200 focus:ring-blue-500 focus:border-blue-500 pr-10">
                                        <button class="lock-btn group absolute inset-y-0 right-0 top-5 flex items-center pr-3" data-target="booking-company-sr"></button>
                                    </div>
                                </div>
                                 <div class="mt-4 relative">
                                    <label class="text-sm font-medium text-gray-600">Document Link</label>
                                    <input type="url" id="hotel-link-sr" placeholder="Paste link to hotel confirmation..." class="savable mt-1 w-full p-2 rounded border border-blue-200 focus:ring-blue-500 focus:border-blue-500 pr-10">
                                    <button class="lock-btn group absolute inset-y-0 right-0 top-5 flex items-center pr-3" data-target="hotel-link-sr"></button>
                                </div>
                            </div>
                             <div class="mt-4 relative">
                                <label class="text-sm font-medium text-gray-600">Notes</label>
                                <textarea id="notes-sr" placeholder="Any thoughts or recommendations..." class="savable mt-1 w-full p-2 rounded border border-gray-300 focus:ring-blue-500 focus:border-blue-500 pr-10">Pick up from Classy Hotel & Spa for the bus to Siem Reap.</textarea>
                                <button class="lock-btn group absolute top-8 right-0 flex items-center pr-3" data-target="notes-sr"></button>
                            </div>
                            <p><strong>Food to Try:</strong> Fish Amok, Lok Lak, Khmer Curry.</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Budget Section -->
        <section id="budget" class="content-section">
            <div class="text-center mb-12">
                <h1 class="text-4xl md:text-5xl font-bold text-blue-600 mb-2">Budget Planner</h1>
                <p class="text-lg text-gray-600">Visualize your estimated costs and track your actual spending.</p>
            </div>
            <div class="grid lg:grid-cols-2 gap-8 items-start">
                <div class="bg-white p-6 rounded-xl shadow-lg">
                    <h2 class="text-2xl font-bold text-center mb-4">Estimated Cost Breakdown</h2>
                    <div class="chart-container">
                        <canvas id="budgetChart"></canvas>
                    </div>
                </div>
                <div class="bg-white p-6 rounded-xl shadow-lg">
                    <h2 class="text-2xl font-bold text-center mb-4">Your Spending Tracker</h2>
                    <div class="overflow-x-auto">
                        <table class="w-full text-left" id="budgetTable">
                            <thead>
                                <tr class="border-b">
                                    <th class="p-3">Category</th>
                                    <th class="p-3 text-right">Estimated (GBP)</th>
                                    <th class="p-3 text-right">Actual (GBP)</th>
                                </tr>
                            </thead>
                            <tbody class="budget-category" data-category="accommodation">
                                <tr class="border-b bg-gray-50 font-medium">
                                    <td class="p-3" colspan="3">Accommodation</td>
                                </tr>
                                <tr class="border-b">
                                    <td class="p-3 pl-6">Phnom Penh Hotel (1st)</td>
                                    <td class="p-3"><input type="number" data-label="PP Hotel 1" class="budget-input estimated-input w-full text-right bg-gray-100 rounded p-1" value="120"></td>
                                    <td class="p-3"><input type="number" class="budget-input actual-input w-full text-right bg-blue-50 rounded p-1" placeholder="0"></td>
                                </tr>
                                 <tr class="border-b">
                                    <td class="p-3 pl-6">Sihanoukville Hotel (1st)</td>
                                    <td class="p-3"><input type="number" data-label="Sihanoukville 1" class="budget-input estimated-input w-full text-right bg-gray-100 rounded p-1" value="25"></td>
                                    <td class="p-3"><input type="number" class="budget-input actual-input w-full text-right bg-blue-50 rounded p-1" placeholder="0"></td>
                                </tr>
                                <tr class="border-b">
                                    <td class="p-3 pl-6">Islands Hotel</td>
                                    <td class="p-3"><input type="number" data-label="Islands Hotel" class="budget-input estimated-input w-full text-right bg-gray-100 rounded p-1" value="90"></td>
                                    <td class="p-3"><input type="number" class="budget-input actual-input w-full text-right bg-blue-50 rounded p-1" placeholder="0"></td>
                                </tr>
                                 <tr class="border-b">
                                    <td class="p-3 pl-6">Sihanoukville Hotel (2nd)</td>
                                    <td class="p-3"><input type="number" data-label="Sihanoukville 2" class="budget-input estimated-input w-full text-right bg-gray-100 rounded p-1" value="25"></td>
                                    <td class="p-3"><input type="number" class="budget-input actual-input w-full text-right bg-blue-50 rounded p-1" placeholder="0"></td>
                                </tr>
                                <tr class="border-b">
                                    <td class="p-3 pl-6">Phnom Penh Hotel (2nd)</td>
                                    <td class="p-3"><input type="number" data-label="PP Hotel 2" class="budget-input estimated-input w-full text-right bg-gray-100 rounded p-1" value="100"></td>
                                    <td class="p-3"><input type="number" class="budget-input actual-input w-full text-right bg-blue-50 rounded p-1" placeholder="0"></td>
                                </tr>
                                <tr class="border-b">
                                    <td class="p-3 pl-6">Battambang Hotel</td>
                                    <td class="p-3"><input type="number" data-label="Battambang Hotel" class="budget-input estimated-input w-full text-right bg-gray-100 rounded p-1" value="65"></td>
                                    <td class="p-3"><input type="number" class="budget-input actual-input w-full text-right bg-blue-50 rounded p-1" placeholder="0"></td>
                                </tr>
                                <tr class="border-b">
                                    <td class="p-3 pl-6">Siem Reap Hotel</td>
                                    <td class="p-3"><input type="number" data-label="Siem Reap Hotel" class="budget-input estimated-input w-full text-right bg-gray-100 rounded p-1" value="180"></td>
                                    <td class="p-3"><input type="number" class="budget-input actual-input w-full text-right bg-blue-50 rounded p-1" placeholder="0"></td>
                                </tr>
                                <tr class="border-t font-semibold bg-gray-100">
                                    <td class="p-3 pl-6">Accommodation Total</td>
                                    <td id="accommodation-estimated-total" class="p-3 text-right">¬£0</td>
                                    <td id="accommodation-actual-total" class="p-3 text-right text-blue-600">¬£0</td>
                                </tr>
                            </tbody>
                            <tbody class="budget-category" data-category="transportation">
                                <tr class="border-b bg-gray-50 font-medium">
                                    <td class="p-3" colspan="3">Transportation</td>
                                </tr>
                                <tr class="border-b">
                                    <td class="p-3 pl-6">T-port: PP to Sihanoukville</td>
                                    <td class="p-3"><input type="number" data-label="T-port: PP-Sihan." class="budget-input estimated-input w-full text-right bg-gray-100 rounded p-1" value="40"></td>
                                    <td class="p-3"><input type="number" class="budget-input actual-input w-full text-right bg-blue-50 rounded p-1" placeholder="0"></td>
                                </tr>
                                <tr class="border-b">
                                    <td class="p-3 pl-6">T-port: Sihanoukville to PP</td>
                                    <td class="p-3"><input type="number" data-label="T-port: Sihan.-PP" class="budget-input estimated-input w-full text-right bg-gray-100 rounded p-1" value="40"></td>
                                    <td class="p-3"><input type="number" class="budget-input actual-input w-full text-right bg-blue-50 rounded p-1" placeholder="0"></td>
                                </tr>
                                <tr class="border-b">
                                    <td class="p-3 pl-6">T-port: PP to Battambang</td>
                                    <td class="p-3"><input type="number" data-label="T-port: PP-Batt." class="budget-input estimated-input w-full text-right bg-gray-100 rounded p-1" value="30"></td>
                                    <td class="p-3"><input type="number" class="budget-input actual-input w-full text-right bg-blue-50 rounded p-1" placeholder="0"></td>
                                </tr>
                                <tr class="border-b">
                                    <td class="p-3 pl-6">T-port: Battambang to SR</td>
                                    <td class="p-3"><input type="number" data-label="T-port: Batt.-SR" class="budget-input estimated-input w-full text-right bg-gray-100 rounded p-1" value="20"></td>
                                    <td class="p-3"><input type="number" class="budget-input actual-input w-full text-right bg-blue-50 rounded p-1" placeholder="0"></td>
                                </tr>
                                <tr class="border-b">
                                    <td class="p-3 pl-6">T-port: Local (Tuk-tuks)</td>
                                    <td class="p-3"><input type="number" data-label="T-port: Local" class="budget-input estimated-input w-full text-right bg-gray-100 rounded p-1" value="70"></td>
                                    <td class="p-3"><input type="number" class="budget-input actual-input w-full text-right bg-blue-50 rounded p-1" placeholder="0"></td>
                                </tr>
                                <tr class="border-t font-semibold bg-gray-100">
                                    <td class="p-3 pl-6">Transportation Total</td>
                                    <td id="transportation-estimated-total" class="p-3 text-right">¬£0</td>
                                    <td id="transportation-actual-total" class="p-3 text-right text-blue-600">¬£0</td>
                                </tr>
                            </tbody>
                            <tbody class="budget-category" data-category="activities">
                                <tr class="border-b bg-gray-50 font-medium">
                                    <td class="p-3" colspan="3">Activities</td>
                                </tr>
                                 <tr class="border-b">
                                    <td class="p-3 pl-6">Activities: Phnom Penh</td>
                                    <td class="p-3"><input type="number" data-label="Activities: PP" class="budget-input estimated-input w-full text-right bg-gray-100 rounded p-1" value="80"></td>
                                    <td class="p-3"><input type="number" class="budget-input actual-input w-full text-right bg-blue-50 rounded p-1" placeholder="0"></td>
                                </tr>
                                <tr class="border-b">
                                    <td class="p-3 pl-6">Activities: Islands</td>
                                    <td class="p-3"><input type="number" data-label="Activities: Islands" class="budget-input estimated-input w-full text-right bg-gray-100 rounded p-1" value="50"></td>
                                    <td class="p-3"><input type="number" class="budget-input actual-input w-full text-right bg-blue-50 rounded p-1" placeholder="0"></td>
                                </tr>
                                <tr class="border-b">
                                    <td class="p-3 pl-6">Activities: Battambang</td>
                                    <td class="p-3"><input type="number" data-label="Activities: Batt." class="budget-input estimated-input w-full text-right bg-gray-100 rounded p-1" value="50"></td>
                                    <td class="p-3"><input type="number" class="budget-input actual-input w-full text-right bg-blue-50 rounded p-1" placeholder="0"></td>
                                </tr>
                                <tr class="border-b">
                                    <td class="p-3 pl-6">Activities: Siem Reap</td>
                                    <td class="p-3"><input type="number" data-label="Activities: SR" class="budget-input estimated-input w-full text-right bg-gray-100 rounded p-1" value="120"></td>
                                    <td class="p-3"><input type="number" class="budget-input actual-input w-full text-right bg-blue-50 rounded p-1" placeholder="0"></td>
                                </tr>
                                <tr class="border-t font-semibold bg-gray-100">
                                    <td class="p-3 pl-6">Activities Total</td>
                                    <td id="activities-estimated-total" class="p-3 text-right">¬£0</td>
                                    <td id="activities-actual-total" class="p-3 text-right text-blue-600">¬£0</td>
                                </tr>
                            </tbody>
                            <tbody>
                                <tr class="border-b">
                                    <td class="p-3 font-medium">Food & Drink</td>
                                    <td class="p-3"><input type="number" data-label="Food & Drink" class="budget-input estimated-input w-full text-right bg-gray-100 rounded p-1" value="800"></td>
                                    <td class="p-3"><input type="number" class="budget-input actual-input w-full text-right bg-blue-50 rounded p-1" placeholder="0"></td>
                                </tr>
                                <tr>
                                    <td class="p-3 font-medium">Miscellaneous</td>
                                    <td class="p-3"><input type="number" data-label="Miscellaneous" class="budget-input estimated-input w-full text-right bg-gray-100 rounded p-1" value="100"></td>
                                    <td class="p-3"><input type="number" class="budget-input actual-input w-full text-right bg-blue-50 rounded p-1" placeholder="0"></td>
                                </tr>
                                <tr class="border-b">
                                    <td class="p-3 pl-6">Visa Fee</td>
                                    <td class="p-3"><input type="number" data-label="Visa Fee" class="budget-input estimated-input w-full text-right bg-gray-100 rounded p-1" value="30"></td>
                                    <td class="p-3"><input type="number" class="budget-input actual-input w-full text-right bg-blue-50 rounded p-1" placeholder="0"></td>
                                </tr>
                            </tbody>
                            <tfoot>
                                <tr class="border-t-2 font-bold text-lg">
                                    <td class="p-3">Grand Total</td>
                                    <td id="estimatedTotal" class="p-3 text-right">¬£2,000</td>
                                    <td id="actualTotal" class="p-3 text-right text-blue-600">¬£0</td>
                                </tr>
                            </tfoot>
                        </table>
                    </div>
                </div>
            </div>
        </section>

        <!-- Documents Section -->
        <section id="documents" class="content-section">
            <div class="text-center mb-12">
                <h1 class="text-4xl md:text-5xl font-bold text-blue-600 mb-2">Important Documents</h1>
                <p class="text-lg text-gray-600">Keep track of your essential travel documents here.</p>
            </div>
            <div class="space-y-4 max-w-4xl mx-auto">
                 <div class="accordion-item bg-white rounded-xl shadow-md overflow-hidden">
                    <button class="accordion-header w-full p-6 text-left flex justify-between items-center">
                        <span class="text-xl font-bold">Visa Confirmation</span>
                        <span class="text-2xl font-light transform transition-transform duration-300">‚ñº</span>
                    </button>
                    <div class="accordion-content">
                        <div class="p-6 pt-0 text-gray-700 space-y-4">
                            <div class="bg-blue-50 p-4 rounded-lg">
                                <h5 class="font-bold mb-2">e-Visa Details</h5>
                                <div class="grid sm:grid-cols-2 gap-4">
                                    <div class="relative">
                                        <label class="text-sm font-medium text-gray-600">Full Name</label>
                                        <input type="text" id="visa-name" placeholder="e.g., John Smith" value="" class="savable mt-1 w-full p-2 rounded border border-blue-200 focus:ring-blue-500 focus:border-blue-500 pr-10">
                                        <button class="lock-btn group absolute inset-y-0 right-0 top-5 flex items-center pr-3" data-target="visa-name"></button>
                                    </div>
                                    <div class="relative">
                                        <label class="text-sm font-medium text-gray-600">Passport No.</label>
                                        <input type="text" id="visa-passport" placeholder="e.g., 123456789" value="" class="savable mt-1 w-full p-2 rounded border border-blue-200 focus:ring-blue-500 focus:border-blue-500 pr-10">
                                        <button class="lock-btn group absolute inset-y-0 right-0 top-5 flex items-center pr-3" data-target="visa-passport"></button>
                                    </div>
                                    <div class="relative">
                                        <label class="text-sm font-medium text-gray-600">Visa Type</label>
                                        <input type="text" id="visa-type" placeholder="e.g., Visa T" value="Visa T" class="savable mt-1 w-full p-2 rounded border border-blue-200 focus:ring-blue-500 focus:border-blue-500 pr-10">
                                        <button class="lock-btn group absolute inset-y-0 right-0 top-5 flex items-center pr-3" data-target="visa-type"></button>
                                    </div>
                                    <div class="relative">
                                        <label class="text-sm font-medium text-gray-600">Valid for Entry From</label>
                                        <input type="text" id="visa-entry-date" placeholder="e.g., 13 Aug 2025" value="13 Aug 2025" class="savable mt-1 w-full p-2 rounded border border-blue-200 focus:ring-blue-500 focus:border-blue-500 pr-10">
                                        <button class="lock-btn group absolute inset-y-0 right-0 top-5 flex items-center pr-3" data-target="visa-entry-date"></button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Checklist Section -->
        <section id="checklist" class="content-section">
            <div class="text-center mb-12">
                <h1 class="text-4xl md:text-5xl font-bold text-blue-600 mb-2">Pre-Trip Checklist</h1>
                <p class="text-lg text-gray-600">Essential tasks and information to prepare for your trip.</p>
            </div>
            <div class="max-w-2xl mx-auto bg-white p-8 rounded-xl shadow-lg">
                <h3 class="text-2xl font-bold mb-4">Key Tasks</h3>
                <ul class="space-y-4">
                    <li class="flex items-center text-lg"><input type="checkbox" id="check-visa" class="savable mr-4 h-5 w-5 rounded border-gray-300 text-blue-600 focus:ring-blue-500">Check visa requirements for your nationality.</li>
                    <li class="flex items-center text-lg"><input type="checkbox" id="check-flights" class="savable mr-4 h-5 w-5 rounded border-gray-300 text-blue-600 focus:ring-blue-500">Book international flights to Siem Reap or Phnom Penh.</li>
                    <li class="flex items-center text-lg"><input type="checkbox" id="check-insurance" class="savable mr-4 h-5 w-5 rounded border-gray-300 text-blue-600 focus:ring-blue-500">Purchase comprehensive travel insurance.</li>
                    <li class="flex items-center text-lg"><input type="checkbox" id="check-doctor" class="savable mr-4 h-5 w-5 rounded border-gray-300 text-blue-600 focus:ring-blue-500">Consult a doctor about recommended vaccinations.</li>
                    <li class="flex items-center text-lg"><input type="checkbox" id="check-usd" class="savable mr-4 h-5 w-5 rounded border-gray-300 text-blue-600 focus:ring-blue-500">Prepare crisp, new USD bills for currency.</li>
                    <li class="flex items-center text-lg"><input type="checkbox" id="check-sim" class="savable mr-4 h-5 w-5 rounded border-gray-300 text-blue-600 focus:ring-blue-500">Plan to get a local SIM card at the airport.</li>
                </ul>
                 <h3 class="text-2xl font-bold mt-8 mb-4">Packing List</h3>
                 <div class="grid sm:grid-cols-2 gap-4">
                    <ul class="space-y-3">
                        <li class="flex items-center"><input type="checkbox" id="pack-clothes" class="savable mr-3 h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500">Lightweight clothing</li>
                        <li class="flex items-center"><input type="checkbox" id="pack-swimwear" class="savable mr-3 h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500">Swimwear</li>
                        <li class="flex items-center"><input type="checkbox" id="pack-temple" class="savable mr-3 h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500">Temple-appropriate attire (shoulders/knees covered)</li>
                        <li class="flex items-center"><input type="checkbox" id="pack-shoes" class="savable mr-3 h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500">Comfortable walking shoes</li>
                        <li class="flex items-center"><input type="checkbox" id="pack-sandals" class="savable mr-3 h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500">Sandals / Flip-flops</li>
                    </ul>
                     <ul class="space-y-3">
                        <li class="flex items-center"><input type="checkbox" id="pack-sunscreen" class="savable mr-3 h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500">Sunscreen & Hat</li>
                        <li class="flex items-center"><input type="checkbox" id="pack-repellent" class="savable mr-3 h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500">Insect repellent</li>
                        <li class="flex items-center"><input type="checkbox" id="pack-firstaid" class="savable mr-3 h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500">Basic first-aid kit</li>
                        <li class="flex items-center"><input type="checkbox" id="pack-powerbank" class="savable mr-3 h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500">Portable power bank</li>
                        <li class="flex items-center"><input type="checkbox" id="pack-bottle" class="savable mr-3 h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500">Reusable water bottle</li>
                    </ul>
                 </div>
            </div>
        </section>

        <!-- Info & Safety Section -->
        <section id="safety" class="content-section">
            <div class="text-center mb-12">
                <h1 class="text-4xl md:text-5xl font-bold text-blue-600 mb-2">Info & Safety</h1>
                <p class="text-lg text-gray-600">Essential contacts, phrases, cultural tips and travel resources.</p>
            </div>
            <div class="space-y-4 max-w-4xl mx-auto">
                <!-- Emergency Contacts -->
                <div class="accordion-item bg-white rounded-xl shadow-md overflow-hidden">
                    <button class="accordion-header w-full p-6 text-left flex justify-between items-center">
                        <span class="text-xl font-bold">Emergency Contacts</span>
                        <span class="text-2xl font-light transform transition-transform duration-300">‚ñº</span>
                    </button>
                    <div class="accordion-content">
                        <div class="p-6 pt-0 text-gray-700 space-y-4">
                            <p><strong>Police:</strong> 117</p>
                            <p><strong>Ambulance:</strong> 119</p>
                            <p><strong>Fire:</strong> 118</p>
                            <div class="border-t pt-4 relative">
                                <label class="text-sm font-medium text-gray-600">Your Embassy Contact</label>
                                <input type="text" id="safety-embassy" placeholder="e.g., British Embassy, +855 23 427124" value="Urgent: +855 23 427 124 / General: +855 61 3000 11" class="savable mt-1 w-full p-2 rounded border border-gray-300 focus:ring-blue-500 focus:border-blue-500 pr-10">
                                <button class="lock-btn group absolute inset-y-0 right-0 top-5 flex items-center pr-3" data-target="safety-embassy"></button>
                            </div>
                             <div class="relative">
                                <label class="text-sm font-medium text-gray-600">Personal Emergency Contact</label>
                                <input type="text" id="safety-personal" placeholder="Name and phone number" value="+447545554455, +447711865958, +447968843101" class="savable mt-1 w-full p-2 rounded border border-gray-300 focus:ring-blue-500 focus:border-blue-500 pr-10">
                                <button class="lock-btn group absolute inset-y-0 right-0 top-5 flex items-center pr-3" data-target="safety-personal"></button>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- Cultural Etiquette -->
                <div class="accordion-item bg-white rounded-xl shadow-md overflow-hidden">
                    <button class="accordion-header w-full p-6 text-left flex justify-between items-center">
                        <span class="text-xl font-bold">Cultural Etiquette</span>
                        <span class="text-2xl font-light transform transition-transform duration-300">‚ñº</span>
                    </button>
                    <div class="accordion-content">
                        <div class="p-6 pt-0 text-gray-700 space-y-2 list-disc list-inside">
                            <li>Dress modestly when visiting temples (cover shoulders and knees).</li>
                            <li>The traditional greeting is the "Sampeah" (placing palms together like a prayer). A smile and a nod are also fine.</li>
                            <li>Don't use your feet to point at people or things.</li>
                            <li>Ask for permission before taking photos of people, especially monks.</li>
                            <li>Haggling is common in markets, but always do so with a smile and good humour.</li>
                        </div>
                    </div>
                </div>
                <!-- Khmer Phrases -->
                <div class="accordion-item bg-white rounded-xl shadow-md overflow-hidden">
                    <button class="accordion-header w-full p-6 text-left flex justify-between items-center">
                        <span class="text-xl font-bold">Basic Khmer Phrases</span>
                        <span class="text-2xl font-light transform transition-transform duration-300">‚ñº</span>
                    </button>
                    <div class="accordion-content">
                        <div class="p-6 pt-0 text-gray-700 space-y-2">
                           <p><strong>Hello:</strong> Suos-dey</p>
                           <p><strong>Thank you:</strong> Or-kun</p>
                           <p><strong>Goodbye:</strong> Lea-hai</p>
                           <p><strong>Yes:</strong> Baht (male) / Jah (female)</p>
                           <p><strong>No:</strong> Ot-tei</p>
                           <p><strong>How much?:</strong> Bo-man?</p>
                        </div>
                    </div>
                </div>
                 <!-- Travel Resources -->
                <div class="accordion-item bg-white rounded-xl shadow-md overflow-hidden">
                    <button class="accordion-header w-full p-6 text-left flex justify-between items-center">
                        <span class="text-xl font-bold">Travel Resources</span>
                        <span class="text-2xl font-light transform transition-transform duration-300">‚ñº</span>
                    </button>
                    <div class="accordion-content">
                        <div class="p-6 pt-0 text-gray-700 space-y-4">
                            <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8">
                                 <div class="p-6">
                                     <h3 class="text-lg font-bold mb-4 text-blue-700">Transportation Booking</h3>
                                     <ul class="space-y-3">
                                         <li><a href="https://12go.asia" target="_blank" class="text-gray-700 hover:text-blue-600 hover:underline"><strong>12Go Asia:</strong> Compare and book buses, ferries, and trains.</a></li>
                                         <li><a href="https://bookmebus.com" target="_blank" class="text-gray-700 hover:text-blue-600 hover:underline"><strong>BookMeBus:</strong> Local platform for bus tickets.</a></li>
                                         <li><a href="https://www.giantibis.com/" target="_blank" class="text-gray-700 hover:text-blue-600 hover:underline"><strong>Giant Ibis:</strong> Popular and reliable bus company.</a></li>
                                     </ul>
                                 </div>
                                 <div class="p-6">
                                     <h3 class="text-lg font-bold mb-4 text-green-700">News & Information</h3>
                                     <ul class="space-y-3">
                                         <li><a href="https://www.evisa.gov.kh/" target="_blank" class="text-gray-700 hover:text-blue-600 hover:underline"><strong>Official Cambodia eVisa:</strong> Apply for your tourist visa online.</a></li>
                                         <li><a href="https://www.phnompenhpost.com/" target="_blank" class="text-gray-700 hover:text-blue-600 hover:underline"><strong>The Phnom Penh Post:</strong> English-language local news.</a></li>
                                     </ul>
                                 </div>
                                <div class="p-6">
                                     <h3 class="text-lg font-bold mb-4 text-red-700">Health & Safety</h3>
                                     <ul class="space-y-3">
                                         <li><a href="https://www.gov.uk/foreign-travel-advice/cambodia" target="_blank" class="text-gray-700 hover:text-blue-600 hover:underline"><strong>UK Gov Travel Advice:</strong> Official safety and entry information.</a></li>
                                         <li><a href="https://wwwnc.cdc.gov/travel/destinations/traveler/none/cambodia" target="_blank" class="text-gray-700 hover:text-blue-600 hover:underline"><strong>CDC Health Information:</strong> Recommended vaccinations and health tips.</a></li>
                                     </ul>
                                 </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

    </main>
    
    <!-- Custom Confirmation Modal -->
    <div id="confirmation-modal" class="modal-overlay fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50 hidden">
        <div class="bg-white rounded-xl shadow-2xl p-8 max-w-sm w-full text-center">
            <h3 class="text-xl font-bold mb-4">Are you sure?</h3>
            <p class="text-gray-600 mb-6">This will erase all saved data from your browser. This action cannot be undone.</p>
            <div class="flex justify-center space-x-4">
                <button id="confirm-reset-btn" class="bg-red-500 text-white font-bold py-2 px-6 rounded-lg hover:bg-red-600 transition-colors">Yes, Reset</button>
                <button id="cancel-reset-btn" class="bg-gray-200 text-gray-800 font-bold py-2 px-6 rounded-lg hover:bg-gray-300 transition-colors">Cancel</button>
            </div>
        </div>
    </div>


    <script>
        document.addEventListener('DOMContentLoaded', function () {
            // --- ELEMENTS & STATE ---
            const navLinks = document.querySelectorAll('.nav-link');
            const sections = document.querySelectorAll('.content-section');
            const savableElements = document.querySelectorAll('.savable');
            const clearDataBtn = document.getElementById('clear-data-btn');
            const budgetTable = document.getElementById('budgetTable');
            const estimatedTotalEl = document.getElementById('estimatedTotal');
            const actualTotalEl = document.getElementById('actualTotal');
            const modal = document.getElementById('confirmation-modal');
            const confirmResetBtn = document.getElementById('confirm-reset-btn');
            const cancelResetBtn = document.getElementById('cancel-reset-btn');
            let lockedFields = {};

            // --- SVG ICONS ---
            const unlockedSVG = `<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-5 h-5 text-gray-400 group-hover:text-blue-600"><path stroke-linecap="round" stroke-linejoin="round" d="M13.5 10.5V6.75a4.5 4.5 0 119 0v3.75M3.75 21.75h16.5a1.5 1.5 0 001.5-1.5v-6a1.5 1.5 0 00-1.5-1.5H3.75a1.5 1.5 0 00-1.5 1.5v6a1.5 1.5 0 001.5 1.5z" /></svg>`;
            const lockedSVG = `<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-5 h-5 text-gray-500"><path stroke-linecap="round" stroke-linejoin="round" d="M16.5 10.5V6.75a4.5 4.5 0 10-9 0v3.75m-.75 11.25h10.5a2.25 2.25 0 002.25-2.25v-6.75a2.25 2.25 0 00-2.25-2.25H6.75a2.25 2.25 0 00-2.25 2.25v6.75a2.25 2.25 0 002.25 2.25z" /></svg>`;

            // --- LOCKING FUNCTIONALITY ---
            function lockField(fieldId) {
                const element = document.getElementById(fieldId);
                const button = document.querySelector(`.lock-btn[data-target="${fieldId}"]`);
                if (element && button) {
                    element.disabled = true;
                    button.innerHTML = lockedSVG;
                    button.disabled = true;
                }
            }

            // --- DATA PERSISTENCE ---
            function saveData() {
                savableElements.forEach(el => {
                    const id = el.id;
                    if (el.type === 'checkbox') {
                        localStorage.setItem(`value_${id}`, el.checked);
                    } else {
                        localStorage.setItem(`value_${id}`, el.value);
                    }
                });
                localStorage.setItem('lockedFields', JSON.stringify(lockedFields));
            }

            function loadData() {
                lockedFields = JSON.parse(localStorage.getItem('lockedFields')) || {};
                savableElements.forEach(el => {
                    const id = el.id;
                    const savedValue = localStorage.getItem(`value_${id}`);
                    if (savedValue !== null) {
                        if (el.type === 'checkbox') {
                            el.checked = savedValue === 'true';
                        } else {
                            el.value = savedValue;
                        }
                    }
                    if (lockedFields[id]) {
                        lockField(id);
                    }
                });
            }
            
            // --- MODAL & RESET LOGIC ---
            clearDataBtn.addEventListener('click', () => {
                modal.classList.remove('hidden');
            });

            cancelResetBtn.addEventListener('click', () => {
                modal.classList.add('hidden');
            });

            confirmResetBtn.addEventListener('click', () => {
                localStorage.clear();
                window.location.reload();
            });


            // --- NAVIGATION ---
            function updateContent(hash) {
                let targetHash = hash || '#dashboard';
                sections.forEach(section => section.classList.toggle('active', '#' + section.id === targetHash));
                navLinks.forEach(link => link.classList.toggle('active', link.getAttribute('href') === targetHash));
            }

            // --- ACCORDION ---
            document.querySelectorAll('.accordion-item').forEach(item => {
                const header = item.querySelector('.accordion-header');
                const content = item.querySelector('.accordion-content');
                const icon = header.querySelector('span:last-child');
                header.addEventListener('click', () => {
                    const isExpanded = content.style.maxHeight;
                    if (isExpanded) {
                        content.style.maxHeight = null;
                        icon.style.transform = 'rotate(0deg)';
                    } else {
                        content.style.maxHeight = content.scrollHeight + 'px';
                        icon.style.transform = 'rotate(180deg)';
                    }
                });
            });

            // --- BUDGET CALCULATION & CHART ---
            function calculateTotals() {
                let grandEstimatedTotal = 0;
                let grandActualTotal = 0;

                document.querySelectorAll('.budget-category').forEach(categoryBody => {
                    let categoryEstimated = 0;
                    let categoryActual = 0;
                    const categoryName = categoryBody.dataset.category;

                    categoryBody.querySelectorAll('.estimated-input').forEach(input => categoryEstimated += parseFloat(input.value) || 0);
                    categoryBody.querySelectorAll('.actual-input').forEach(input => categoryActual += parseFloat(input.value) || 0);

                    document.getElementById(`${categoryName}-estimated-total`).textContent = '¬£' + categoryEstimated.toLocaleString();
                    document.getElementById(`${categoryName}-actual-total`).textContent = '¬£' + categoryActual.toLocaleString();
                });

                budgetTable.querySelectorAll('.estimated-input').forEach(input => grandEstimatedTotal += parseFloat(input.value) || 0);
                budgetTable.querySelectorAll('.actual-input').forEach(input => grandActualTotal += parseFloat(input.value) || 0);

                estimatedTotalEl.textContent = '¬£' + grandEstimatedTotal.toLocaleString();
                actualTotalEl.textContent = '¬£' + grandActualTotal.toLocaleString();
                
                updateChart();
                saveData();
            }

            function updateChart() {
                const categoryTotals = {};
                // Handle grouped categories first
                document.querySelectorAll('.budget-category').forEach(categoryBody => {
                    const categoryNameRaw = categoryBody.dataset.category;
                    const categoryName = categoryNameRaw.charAt(0).toUpperCase() + categoryNameRaw.slice(1);
                    let categoryTotal = 0;
                    categoryBody.querySelectorAll('.estimated-input').forEach(input => categoryTotal += parseFloat(input.value) || 0);
                    categoryTotals[categoryName] = categoryTotal;
                });

                // FIX: Handle individual items outside of grouped categories
                const individualItems = [
                    "Food & Drink",
                    "Miscellaneous",
                    "Visa Fee"
                ];

                individualItems.forEach(label => {
                    const input = document.querySelector(`input[data-label="${label}"].estimated-input`);
                    if (input) {
                         // Add to the main category, or create a new one
                        if (label === "Visa Fee") {
                            categoryTotals['Miscellaneous'] = (categoryTotals['Miscellaneous'] || 0) + (parseFloat(input.value) || 0);
                        } else {
                            categoryTotals[label] = parseFloat(input.value) || 0;
                        }
                    }
                });
                
                // Filter out categories with 0 value to keep the chart clean
                const filteredLabels = Object.keys(categoryTotals).filter(label => categoryTotals[label] > 0);
                const filteredData = filteredLabels.map(label => categoryTotals[label]);


                window.budgetChartInstance.data.labels = filteredLabels;
                window.budgetChartInstance.data.datasets[0].data = filteredData;
                window.budgetChartInstance.update();
            }
            
            const initialBudgetData = {
                labels: [], // Will be populated by updateChart
                datasets: [{
                    label: 'Estimated Budget',
                    data: [], // Will be populated by updateChart
                    backgroundColor: ['#4285F4', '#EA4335', '#FBBC05', '#34A853', '#AB47BC', '#795548'],
                    hoverOffset: 4,
                    borderColor: '#f8f9fa',
                    borderWidth: 4,
                }]
            };

            const budgetChartCtx = document.getElementById('budgetChart').getContext('2d');
            window.budgetChartInstance = new Chart(budgetChartCtx, {
                type: 'doughnut',
                data: initialBudgetData,
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: { 
                            position: 'bottom',
                            labels: { padding: 15, boxWidth: 12, font: { family: 'Inter' } }
                        },
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    let label = context.label || '';
                                    if (label) label += ': ';
                                    if (context.parsed !== null) label += new Intl.NumberFormat('en-GB', { style: 'currency', currency: 'GBP' }).format(context.parsed);
                                    return label;
                                }
                            }
                        }
                    }
                }
            });

            // --- INITIALIZATION & EVENT LISTENERS ---
            function initialize() {
                document.querySelectorAll('.lock-btn').forEach(btn => btn.innerHTML = unlockedSVG);

                loadData();
                calculateTotals();
                updateContent(window.location.hash);

                savableElements.forEach(el => el.addEventListener('input', saveData));
                budgetTable.querySelectorAll('.budget-input').forEach(input => input.addEventListener('input', calculateTotals));
                
                document.querySelectorAll('.lock-btn').forEach(button => {
                    button.addEventListener('click', function() {
                        const targetId = this.dataset.target;
                        lockedFields[targetId] = true;
                        lockField(targetId);
                        saveData();
                    });
                });

                navLinks.forEach(link => {
                    link.addEventListener('click', function (e) {
                        e.preventDefault();
                        const targetHash = this.getAttribute('href');
                        history.pushState(null, null, targetHash);
                        updateContent(targetHash);
                    });
                });
                window.addEventListener('popstate', () => updateContent(window.location.hash));
            }

            initialize();
        });
    </script>
</body>
</html>
